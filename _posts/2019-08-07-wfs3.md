---
layout: left
title: QGIS Server and WFS3
active: Articles
---

# QGIS Server and WFS3

<hr>
{:.post-icon}
![date]({{ site.baseurl }}/images/posts/calendar.png){:width="18px"} &emsp; *August 07, 2019*

{:.post-icon}
![tags]({{ site.baseurl }}/images/posts/tag.png){:width="18px"} &emsp; *QGIS Server, OGC, WFS3*

{:.post-icon}
![avatar]({{ site.baseurl }}/images/posts/avatar.png){:width="18px"} &emsp; *Paul Blottiere*
<hr>


## Introduction

There are various map servers available in the Open Source world, each with
advantages and disadvantages. <a href="https://mapserver.org/">Map Server</a>
and <a href="http://geoserver.org/">GeoServer</a> are the most famous, but QGIS
provides a map server too, named <a href="https://docs.qgis.org/3.4/en/docs/user_manual/working_with_ogc/server/index.html">QGIS Server</a>.
One of the main advantages of QGIS Server is the possibility to directly
configure the project to serve through QGIS Desktop. Indeed, QGIS Desktop acts
like a WYSIWYG tool because the rendering engine used by QGIS Server is exactly
the same.

QGIS Server provides some classical OGC services like WMS, WFS, WCS or even
WMTS since QGIS 3.4. Certification process is ongoing for WFS 1.1.0 and has
been reached for WMS 1.3.0 since QGIS 3.0. It also has been renewed for the LTR
version 3.4.

<br/>
![OGC Badge]({{ site.baseurl }}/images/posts/wfs3/wms_ogc_badge.png){:class="center-image" width="175px"}
<br/>

And now, thanks to the work of
<a href="https://github.com/elpaso">Alessandro Pasotti</a>, QGIS Server is
going to provide a completely new OGC service: WFS 3! Let's take a look to the
possibilities given by this brand-new protocol.

QEP: https://github.com/qgis/QGIS-Enhancement-Proposals/issues/144

Hackathon for WFS3


Pour tester, se référer à TODO.
<hr>


## Quick reminder about WFS 1.X and 2.X

WFS, or Web Feature Service, is an Open Geospatial Consortium protocol aiming
at manipulating vector features (lines, points, polygons, ...).

To interact with a map server implementing WFS 1.X or 2.X, a HTTP request has
to be sent to with specific parameters like a `NAME`{:.inline} for indicating a
specific layer to work on or a `BBOX`{:.inline} to specify an extent.  Of
course, there are numerous parameters, and some map servers, like QGIS Server,
implements custom parameters (meaning parameters not described by the OGC
specifications) for a more precise control.

On top of that, the WFS 1.X and 2.X service provide mechanisms to explore a
project structure (layers, output format, extents, ...) or get feature
information.  Indeed, it's possible thanks to the concept of
`REQUEST`{:.inline}. The most basic requests are:

- GetCapabilities
- DescribeFeatureType
- GetFeature

TODO: ajouter un screenshot d'un projet avec une feature.

With QGIS Server, you can retrieve the structure of the QGIS `PROJECT`{:.inline}
thanks to the next URL:

```
$ curl http://qgisserver?PROJECT=myproject.qgs&REQUEST=GetCapabilities
```

{% capture summary %}`getcapabilities.html`{:.inline}{% endcapture %}
{% capture details %}
```` python
TODO
````
{% endcapture %}

<details>
  <summary>{{ summary | markdownify | remove: '<p>' | remove: '</p>' }}</summary>
  {{ details | markdownify }}
</details>

<br/>
Then, we know which layer is available and on which extent. This way, we may
obtain information for a specific feature:

```
$ curl http://qgisserver?PROJECT=myproject.qgs&REQUEST=GetFeature&TODO
```

{% capture summary %}`getfeature.html`{:.inline}{% endcapture %}
{% capture details %}
````
TODO
````
{% endcapture %}

<details>
  <summary>{{ summary | markdownify | remove: '<p>' | remove: '</p>' }}</summary>
  {{ details | markdownify }}
</details>

<hr>

## WFS 3 novelties

TODO
<hr>

## Basic usage with QGIS Server

TODO
<hr>


## Custom template

TODO
<hr>


## Conclusion

TODO

<br/>
<br/>
<br/>
<br/>
